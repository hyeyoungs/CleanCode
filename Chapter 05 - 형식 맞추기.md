# 05 í˜•ì‹ ë§ì¶”ê¸°
> ê°€ë…ì„±ì— í•„ìˆ˜ì ì¸ í¬ë§·íŒ…

## Introduction
ì§ˆì„œì •ì—°í•˜ê³  ê¹”ë”í•˜ë©°, ì¼ê´€ì ì¸ ì½”ë“œë¥¼ ë³¸ë‹¤ë©´ ì‚¬ëŒë“¤ì—ê²Œ ì „ë¬¸ê°€ê°€ ì§°ë‹¤ëŠ” ì¸ìƒì„ ì‹¬ì–´ì¤„ ìˆ˜ ìˆë‹¤.
<br>ë°˜ëŒ€ë¡œ, ì½”ë“œê°€ ì–´ìˆ˜ì„ í•´ ë³´ì¸ë‹¤ë©´ í”„ë¡œì íŠ¸ ì „ë°˜ì ìœ¼ë¡œ ë¬´ì„±ì˜í•œ íƒœë„ë¡œ ì‘ì„±í–ˆë‹¤ê³  ìƒê°í•  ê²ƒì´ë‹¤.
<br><br>í”„ë¡œê·¸ë˜ë¨¸ë¼ë©´ í˜•ì‹ì„ ê¹”ë”í•˜ê²Œ ë§ì¶° ì½”ë“œë¥¼ ì§œì•¼í•œë‹¤.
<br>ì½”ë“œ í˜•ì‹ì„ ë§ì¶”ê¸° ìœ„í•œ ê°„ë‹¨í•œ ê·œì¹™ì„ ì •í•˜ê³ , ê·¸ ê·œì¹™ì„ ì°©ì‹¤íˆ ë”°ë¼ì•¼ í•˜ë©°,
<br>íŒ€ìœ¼ë¡œ ì¼í•œë‹¤ë©´ íŒ€ì´ í•©ì˜í•´ ê·œì¹™ì„ ì •í•˜ê³  ëª¨ë‘ê°€ ê·¸ ê·œì¹™ì„ ë”°ë¼ì•¼ í•œë‹¤.
<br>í•„ìš”í•˜ë‹¤ë©´ ê·œì¹™ì„ ìë™ìœ¼ë¡œ ì ìš©í•˜ëŠ” ë„êµ¬ë¥¼ í™œìš©í•œë‹¤ (e.g. Android Studioì˜ Code Formatter)

## í˜•ì‹ì„ ë§ì¶”ëŠ” ëª©ì 
ì½”ë“œ í˜•ì‹ì€ ì¤‘ìš”í•˜ë‹¤! ë„ˆë¬´ ì¤‘ìš”í•´ì„œ ë¬´ì‹œí•˜ê¸° ì–´ë µë‹¤.  
ì½”ë“œ í˜•ì‹ì€ ì˜ì‚¬ì†Œí†µì˜ ì¼í™˜ì´ë©°, **ì˜ì‚¬ì†Œí†µì€ ì „ë¬¸ ê°œë°œìì˜ ì¼ì°¨ì ì¸ ì˜ë¬´ë‹¤.**  
ì˜¤ëŠ˜ êµ¬í˜„í•œ ê¸°ëŠ¥ì´ ë‹¤ìŒ ë²„ì „ì—ì„œ ë°”ë€” í™•ë¥ ì€ ë†’ê³ , ì‹œê°„ì´ ì§€ë‚˜ë©´ ì›ë˜ ì½”ë“œì˜ í”ì ì„ ì°¾ì•„ë³¼ ìˆ˜ ì—†ëŠ” ê²½ìš°ë„ ë§ì§€ë§Œ,  
ì˜¤ëŠ˜ êµ¬í˜„í•œ ì½”ë“œì˜ ìŠ¤íƒ€ì¼ê³¼ ê°€ë…ì„± ìˆ˜ì¤€ì€ ìœ ì§€ë³´ìˆ˜ì˜ ìš©ì´ì„±ê³¼ í™•ì •ì„±ì— ì§€ì†ì ì¸ ì˜í–¥ì„ ë¯¸ì¹œë‹¤.

> **ì½”ë“œëŠ” ì‚¬ë¼ì ¸ë„ ìŠ¤íƒ€ì¼ê³¼ ê·œìœ¨ì€ ì‚¬ë¼ì§€ì§€ ì•ŠëŠ”ë‹¤!**

## ì ì ˆí•œ í–‰ ê¸¸ì´ë¥¼ ìœ ì§€í•˜ë¼ (ì½”ë“œì˜ ì„¸ë¡œ ê¸¸ì´)
ì†ŒìŠ¤ì½”ë“œëŠ” ì–¼ë§ˆë‚˜ ê¸¸ì–´ì•¼ ì ë‹¹í• ê¹Œ?  
500ì¤„ì„ ë„˜ì§€ ì•Šê³  ëŒ€ë¶€ë¶„ 200ì¤„ ì •ë„ì¸ íŒŒì¼ë¡œë„ ì»¤ë‹¤ë€ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•  ìˆ˜ ìˆë‹¤.  
ì‹¤ì œë¡œ ì „ë¬¸ ìë°” í”„ë¡œì íŠ¸ë“¤(JUnit, FitNesse, Time and Money) ë“±ì´ ì´ë ‡ê²Œ êµ¬í˜„ë˜ì–´ìˆë‹¤.

ì½”ë“œ ê¸¸ì´ë¥¼ 200ì¤„ ì •ë„ë¡œ ì œí•œí•˜ëŠ” ê²ƒì€ ë°˜ë“œì‹œ ì§€í‚¬ ì—„ê²©í•œ ê·œì¹™ì€ ì•„ë‹ˆì§€ë§Œ,  
ì¼ë°˜ì ìœ¼ë¡œ í° íŒŒì¼ë³´ë‹¤ëŠ” ì‘ì€ íŒŒì¼ì´ ì´í•´í•˜ê¸° ì‰½ë‹¤.

### ì‹ ë¬¸ ê¸°ì‚¬ì²˜ëŸ¼ ì‘ì„±í•˜ë¼
ì¢‹ì€ ì‹ ë¬¸ ê¸°ì‚¬ëŠ” ìµœìƒë‹¨ì— í‘œì œ(ê¸°ì‚¬ë¥¼ ëª‡ë§ˆë””ë¡œ ìš”ì•½í•˜ëŠ” ë¬¸êµ¬)ê°€ ìˆë‹¤.  
ì²« ë¬¸ë‹¨ì—ëŠ” ì „ì²´ ê¸°ì‚¬ ë‚´ìš©ì„ ìš”ì•½í•˜ë©°, ê¸°ì‚¬ë¥¼ ì½ìœ¼ë©° ë‚´ë ¤ê°ˆ ìˆ˜ë¡ ì„¸ì„¸í•œ ì‚¬ì‹¤ì´ ì¡°ê¸ˆì”© ë“œëŸ¬ë‚˜ë©° ì„¸ë¶€ì‚¬í•­ì´ ë‚˜ì˜¤ê²Œ ëœë‹¤.  
ì†ŒìŠ¤íŒŒì¼ ì´ë¦„(í‘œì œ)ëŠ” ê°„ë‹¨í•˜ë©´ì„œë„ ì„¤ëª…ì´ ê°€ëŠ¥í•˜ê²Œ ì§€ì–´,  
ì´ë¦„ë§Œ ë³´ê³ ë„ ì˜¬ë°”ë¥¸ ëª¨ë“ˆì„ ì‚´í´ë³´ê³  ìˆëŠ”ì§€ë¥¼ íŒë‹¨ í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.  
ì†ŒìŠ¤íŒŒì¼ì˜ ì²« ë¶€ë¶„(ìš”ì•½ ë‚´ìš©)ì€ ê³ ì°¨ì› ê°œë…ê³¼ ì•Œê³ ë¦¬ì¦˜ì„ ì„¤ëª…í•œë‹¤.  
ì•„ë˜ë¡œ ë‚´ë ¤ê°ˆìˆ˜ë¡ ì˜ë„ë¥¼ ì„¸ì„¸í•˜ê²Œ ë¬˜ì‚¬í•˜ë©°, ë§ˆì§€ë§‰ì—ëŠ” ê°€ì¥ ì €ì°¨ì› í•¨ìˆ˜(ì•„ë§ˆ Getter/Setter)ì™€ ì„¸ë¶€ ë‚´ì—­ì´ ë‚˜ì˜¨ë‹¤.  
ì‹ ë¬¸ì´ ì‚¬ì‹¤, ë‚ ì§œ, ì´ë¦„ ë“±ì„ ë¬´ì‘ìœ„ë¡œ ë’¤ì„ì€ ê¸´ ê¸°ì‚¬ í•˜ë‚˜ë§Œ ì‹£ëŠ”ë‹¤ë©´ ì•„ë¬´ë„ ì‹ ë¬¸ì„ ì½ì§€ ì•Šì„ ê²ƒì´ë‹¤.

### ê°œë…ì€ ë¹ˆ í–‰ìœ¼ë¡œ ë¶„ë¦¬í•˜ë¼
ì½”ë“œì˜ ê° ì¤„ì€ ìˆ˜ì‹ì´ë‚˜ ì ˆì„ ë‚˜íƒ€ë‚´ê³ , ì—¬ëŸ¬ ì¤„ì˜ ë¬¶ìŒì€ ì™„ê²°ëœ ìƒê° í•˜ë‚˜ë¥¼ í‘œí˜„í•œë‹¤.  
ìƒê° ì‚¬ì´ì—ëŠ” ë¹ˆ í–‰ì„ ë„£ì–´ ë¶„ë¦¬í•´ì•¼í•œë‹¤. ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ ë‹¨ì§€ ì¤„ë°”ê¿ˆë§Œ ë‹¤ë¥¼ ë¿ì¸ë°ë„ ì½”ë“œ ê°€ë…ì„±ì´ í˜„ì €íˆ ë–¨ì–´ì§„ë‹¤.

```java
// ë¹ˆ í–‰ì„ ë„£ì§€ ì•Šì„ ê²½ìš°
package fitnesse.wikitext.widgets;
import java.util.regex.*;
public class BoldWidget extends ParentWidget {
    public static final String REGEXP = "'''.+?'''";
    private static final Pattern pattern = Pattern.compile("'''(.+?)'''",
        Pattern.MULTILINE + Pattern.DOTALL);
    public BoldWidget(ParentWidget parent, String text) throws Exception {
        super(parent);
        Matcher match = pattern.matcher(text); match.find(); 
        addChildWidgets(match.group(1));}
    public String render() throws Exception { 
        StringBuffer html = new StringBuffer("<b>");         
        html.append(childHtml()).append("</b>"); 
        return html.toString();
    } 
}
```

```java
// ë¹ˆ í–‰ì„ ë„£ì„ ê²½ìš°
package fitnesse.wikitext.widgets;

import java.util.regex.*;

public class BoldWidget extends ParentWidget {
    public static final String REGEXP = "'''.+?'''";
    private static final Pattern pattern = Pattern.compile("'''(.+?)'''", 
        Pattern.MULTILINE + Pattern.DOTALL
    );

    public BoldWidget(ParentWidget parent, String text) throws Exception { 
        super(parent);
        Matcher match = pattern.matcher(text);
        match.find();
        addChildWidgets(match.group(1)); 
    }

    public String render() throws Exception { 
        StringBuffer html = new StringBuffer("<b>"); 
        html.append(childHtml()).append("</b>"); 
        return html.toString();
    } 
}
```

### ì„¸ë¡œ ë°€ì§‘ë„

ì¤„ë°”ê¿ˆì´ ê°œë…ì„ ë¶„ë¦¬í•œë‹¤ë©´, ë°˜ëŒ€ë¡œ ì„¸ë¡œ ë°€ì§‘ë„ëŠ” ì—°ê´€ì„±ì„ ì˜ë¯¸í•œë‹¤.  
ì¦‰, ì„œë¡œ ë°€ì§‘í•œ ì½”ë“œ í–‰ì€ ì„¸ë¡œë¡œ ê°€ê¹Œì´ ë†“ì—¬ì•¼ í•œë‹¤.

```java
// ì˜ë¯¸ì—†ëŠ” ì£¼ì„ìœ¼ë¡œ ë³€ìˆ˜ë¥¼ ë–¨ì–´ëœ¨ë ¤ ë†“ì•„ì„œ í•œëˆˆì— íŒŒì•…ì´ ì˜ ì•ˆëœë‹¤.

public class ReporterConfig {
    /**
    * The class name of the reporter listener 
    */
    private String m_className;

    /**
    * The properties of the reporter listener 
    */
    private List<Property> m_properties = new ArrayList<Property>();
    public void addProperty(Property property) { 
        m_properties.add(property);
    }
```

```java
// ì˜ë¯¸ ì—†ëŠ” ì£¼ì„ì„ ì œê±°í•¨ìœ¼ë¡œì¨ ì½”ë“œê°€ í•œëˆˆì— ë“¤ì–´ì˜¨ë‹¤.
// ë³€ìˆ˜ 2ê°œì— ë©”ì†Œë“œê°€ 1ê°œì¸ í´ë˜ìŠ¤ë¼ëŠ” ì‚¬ì‹¤ì´ ë“œëŸ¬ë‚œë‹¤.

public class ReporterConfig {
    private String m_className;
    private List<Property> m_properties = new ArrayList<Property>();

    public void addProperty(Property property) { 
        m_properties.add(property);
    }
```

### ìˆ˜ì§ ê±°ë¦¬

ì„œë¡œ ë°€ì ‘í•œ ê°œë…ì€ ì„¸ë¡œë¡œ ê°€ê¹Œì´ ë‘¬ì•¼ í•œë‹¤.  
ë‘ ê°œë…ì´ ì„œë¡œ ë‹¤ë¥¸ íŒŒì¼ì— ì†í•œë‹¤ë©´ ê·œì¹™ì´ í†µí•˜ì§€ ì•Šì§€ë§Œ,  
íƒ€ë‹¹í•œ ê·¼ê±°ê°€ ì—†ë‹¤ë©´ ì„œë¡œ ë°€ì ‘í•œ ê°œë…ì€ í•œ íŒŒì¼ì— ì†í•´ì•¼ ë§ˆë•…í•˜ë‹¤.(protected ë³€ìˆ˜ë¥¼ í”¼í•´ì•¼ í•˜ëŠ” ì´ìœ ë‹¤.)  
ê°™ì€ íŒŒì¼ì— ì†í•  ì •ë„ë¡œ ë°€ì ‘í•œ ë‘ ê°œë…ì€ ì„¸ë¡œ ê±°ë¦¬ë¡œ ì—°ê´€ì„±(= í•œ ê°œë…ì„ ì´í•´í•˜ëŠ” ë° ë‹¤ë¥¸ ê°œë…ì´ ì¤‘ìš”í•œ ì •ë„)ì„ í‘œí˜„í•œë‹¤.

#### ë³€ìˆ˜ì„ ì–¸

ë³€ìˆ˜ëŠ” ì‚¬ìš©í•˜ëŠ” ìœ„ì¹˜ì—ì„œ ìµœëŒ€í•œ ê°€ê¹Œì´ ì„ ì–¸í•œë‹¤.  
Chapter 03 ê³µë¶€í•œ ìš°ë¦¬ê°€ ë§Œë“  í•¨ìˆ˜ëŠ” ë§¤ìš° ì§§ìŒìœ¼ë¡œ ì§€ì—­ ë³€ìˆ˜ëŠ” ê° í•¨ìˆ˜ ë§¨ ì²˜ìŒì— ì„ ì–¸í•œë‹¤.

```java
// InputStreamì´ í•¨ìˆ˜ ë§¨ ì²˜ìŒì— ì„ ì–¸ ë˜ì–´ìˆë‹¤.

private static void readPreferences() {
    InputStream is = null;
    try {
        is = new FileInputStream(getPreferencesFile()); 
        setPreferences(new Properties(getPreferences())); 
        getPreferences().load(is);
    } catch (IOException e) { 
        try {
            if (is != null) 
                is.close();
        } catch (IOException e1) {
        } 
    }
}
```

```java
// ëª¨ë‘ë“¤ ì•Œë‹¤ì‹œí”¼ ë£¨í”„ ì œì–´ ë³€ìˆ˜ëŠ” Test eachì²˜ëŸ¼ ë£¨í”„ ë¬¸ ë‚´ë¶€ì— ì„ ì–¸

public int countTestCases() { 
    int count = 0;
    for (Test each : tests)
        count += each.countTestCases(); 
    return count;
}
```

```java
// ë“œë¬¼ì§€ë§Œ, ê¸´ í•¨ìˆ˜ì—ì„œëŠ” ë¸”ë¡ ìƒë‹¨ ë˜ëŠ” ë£¨í”„ ì§ì „ì— ë³€ìˆ˜ë¥¼ ì„ ì–¸ í•  ìˆ˜ë„ ìˆë‹¤.
...
for (XmlTest test : m_suite.getTests()) {
    TestRunner tr = m_runnerFactory.newTestRunner(this, test);
    tr.addListener(m_textReporter); 
    m_testRunners.add(tr);

    invoker = tr.getInvoker();

    for (ITestNGMethod m : tr.getBeforeSuiteMethods()) { 
        beforeSuiteMethods.put(m.getMethod(), m);
    }

    for (ITestNGMethod m : tr.getAfterSuiteMethods()) { 
        afterSuiteMethods.put(m.getMethod(), m);
    } 
}
...
```

#### ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜
ìë°”ì˜ ê²½ìš° ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ëŠ” í´ë˜ìŠ¤ ë§¨ ì²˜ìŒì— ì„ ì–¸í•œë‹¤.
<br>ë³€ìˆ˜ ê°„ ì„¸ë¡œë¡œ ê±°ë¦¬ë¥¼ ë‘ì§€ ì•ŠëŠ”ë‹¤ 
<br>ì˜ ì„¤ê³„í•œ í´ë˜ìŠ¤ëŠ” ëŒ€ë‹¤ìˆ˜ í´ë˜ìŠ¤ ë©”ì„œë“œê°€ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì´ë‹¤.  
<br>C++ì˜ ê²½ìš°ì—ëŠ” ë§ˆì§€ë§‰ì— ì„ ì–¸í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì ì´ë‹¤. ì–´ëŠ ê³³ì´ë“  ì˜ ì•Œë ¤ì§„ ìœ„ì¹˜ì— ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¥¼ ëª¨ìœ¼ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.

```java
// ë„ì¤‘ì— ì„ ì–¸ëœ ë³€ìˆ˜ëŠ” ê½ê½ ìˆ¨ê²¨ë†“ì€ ë³´ë¬¼ ì°¾ê¸°ì™€ ê°™ë‹¤. ì‹­ì¤‘ íŒ”êµ¬ ì½”ë“œë¥¼ ì½ë‹¤ê°€ ìš°ì—°íˆ ë°œê²¬í•œë‹¤. 
// ìš”ì¦˜ì€ IDEê°€ ì˜ ë˜ì–´ìˆì–´ì„œ ì°¾ê¸°ì•¼ ì–´ë µì§€ ì•Šê² ì§€ë§Œ, ë”ëŸ¬ìš´ê±´ ë§ˆì°¬ê°€ì§€ë‹¤.

public class TestSuite implements Test {
    static public Test createTest(Class<? extends TestCase> theClass,
                                    String name) {
        ... 
    }

    public static Constructor<? extends TestCase> 
    getTestConstructor(Class<? extends TestCase> theClass) 
    throws NoSuchMethodException {
        ... 
    }

    public static Test warning(final String message) { 
        ...
    }

    private static String exceptionToString(Throwable t) { 
        ...
    }

    private String fName;

    private Vector<Test> fTests= new Vector<Test>(10);

    public TestSuite() { }

    public TestSuite(final Class<? extends TestCase> theClass) { 
        ...
    }

    public TestSuite(Class<? extends TestCase> theClass, String name) { 
        ...
    }

    ... ... ... ... ...
}
```

#### ì¢…ì† í•¨ìˆ˜

í•œ í•¨ìˆ˜ê°€ ë‹¤ë¥¸ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤ë©´(=ì¢…ì† í•¨ìˆ˜) ë‘ í•¨ìˆ˜ëŠ” ì„¸ë¡œë¡œ ê°€ê¹Œì´ ë°°ì¹˜í•œë‹¤. 
<br>ê°€ëŠ¥í•˜ë©´ í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” í•¨ìˆ˜ë³´ë‹¤ ë’¤ì— ë°°ì¹˜í•œë‹¤. (í”„ë¡œê·¸ë¨ì´ ìì—°ìŠ¤ëŸ½ê²Œ ì½í ìˆ˜ ìˆë„ë¡) 
<br>ì´ëŸ¬í•œ ê·œì¹™ì„ ì¼ê´€ë˜ê²Œ ì ìš©í•œë‹¤ë©´ ë…ìëŠ” ë°©ê¸ˆ í•¨ìˆ˜ì—ì„œ í˜¸ì¶œí•œ í•¨ìˆ˜ê°€ ì ì‹œ í›„ì— ì •ì˜ë  ê²ƒì´ë¼ê³  ìì—°ìŠ¤ë ˆ ì˜ˆì¸¡í•œë‹¤.

```java
/*
   ì²«ì§¸ í•¨ìˆ˜ì—ì„œ ê°€ì¥ ë¨¼ì € í˜¸ì¶œí•˜ëŠ” í•¨ìˆ˜ê°€ ë°”ë¡œ ì•„ë˜ ì •ì˜ëœë‹¤.
   ë‹¤ìŒìœ¼ë¡œ í˜¸ì¶œí•˜ëŠ” í•¨ìˆ˜ëŠ” ê·¸ ì•„ë˜ì— ì •ì˜ëœë‹¤. ê·¸ëŸ¬ë¯€ë¡œ í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜ë¥¼ ì°¾ê¸°ê°€ ì‰¬ì›Œì§€ë©° ì „ì²´ ê°€ë…ì„±ë„ ë†’ì•„ì§„ë‹¤.
 */

/*
   makeResponse í•¨ìˆ˜ì—ì„œ í˜¸ì¶œí•˜ëŠ” getPageNameOrDefaultí•¨ìˆ˜ ì•ˆì—ì„œ "FrontPage" ìƒìˆ˜ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³ ,
   ìƒìˆ˜ë¥¼ ì•Œì•„ì•¼ ì˜ë¯¸ ì „ë‹¬ì´ ì‰¬ì›Œì§€ëŠ” í•¨ìˆ˜ ìœ„ì¹˜ì—ì„œ ì‹¤ì œ ì‚¬ìš©í•˜ëŠ” í•¨ìˆ˜ë¡œ ìƒìˆ˜ë¥¼ ë„˜ê²¨ì£¼ëŠ” ë°©ë²•ì´
   ê°€ë…ì„± ê´€ì ì—ì„œ í›¨ì”¬ ë” ì¢‹ë‹¤
 */

public class WikiPageResponder implements SecureResponder { 
    protected WikiPage page;
    protected PageData pageData;
    protected String pageTitle;
    protected Request request; 
    protected PageCrawler crawler;

    public Response makeResponse(FitNesseContext context, Request request) throws Exception {
        String pageName = getPageNameOrDefault(request, "FrontPage");
        loadPage(pageName, context); 
        if (page == null)
            return notFoundResponse(context, request); 
        else
            return makePageResponse(context); 
        }

    private String getPageNameOrDefault(Request request, String defaultPageName) {
        String pageName = request.getResource(); 
        if (StringUtil.isBlank(pageName))
            pageName = defaultPageName;

        return pageName; 
    }

    protected void loadPage(String resource, FitNesseContext context)
        throws Exception {
        WikiPagePath path = PathParser.parse(resource);
        crawler = context.root.getPageCrawler();
        crawler.setDeadEndStrategy(new VirtualEnabledPageCrawler()); 
        page = crawler.getPage(context.root, path);
        if (page != null)
            pageData = page.getData();
    }

    private Response notFoundResponse(FitNesseContext context, Request request)
        throws Exception {
        return new NotFoundResponder().makeResponse(context, request);
    }

    private SimpleResponse makePageResponse(FitNesseContext context)
        throws Exception {
        pageTitle = PathParser.render(crawler.getFullPath(page)); 
        String html = makeHtml(context);
        SimpleResponse response = new SimpleResponse(); 
        response.setMaxAge(0); 
        response.setContent(html);
        return response;
    } 
...
```

#### ê°œë…ì˜ ìœ ì‚¬ì„±

ê°œë…ì ì¸ ì¹œí™”ë„ê°€ ë†’ì„ ìˆ˜ë¡ ì½”ë“œë¥¼ ì„œë¡œ ê°€ê¹Œì´ ë°°ì¹˜í•œë‹¤.  
ì•ì„œ ì‚´í´ë³´ì•˜ë“¯ì´ í•œ í•¨ìˆ˜ê°€ ë‹¤ë¥¸ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ì¢…ì†ì„±, ë³€ìˆ˜ì™€ ê·¸ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” í•¨ìˆ˜ê°€ ê·¸ ì˜ˆë‹¤.  
ê·¸ ì™¸ì—ë„ ë¹„ìŠ·í•œ ë™ì‘ì„ ìˆ˜í–‰í•˜ëŠ” í•¨ìˆ˜ ë¬´ë¦¬ ë˜í•œ ê°œë…ì˜ ì¹œí™”ë„ê°€ ë†’ë‹¤.

```java
// ê°™ì€ assert ê´€ë ¨ëœ ë™ì‘ë“¤ì„ ìˆ˜í–‰í•˜ë©°, ëª…ëª…ë²•ì´ ë˜‘ê°™ê³  ê¸°ë³¸ ê¸°ëŠ¥ì´ ìœ ì‚¬í•œ í•¨ìˆ˜ë“¤ë¡œì¨ ê°œë…ì  ì¹œí™”ë„ê°€ ë†’ë‹¤.
// ì´ëŸ° ê²½ìš°ì—ëŠ” ì¢…ì†ì„±ì€ ì˜¤íˆë ¤ ë¶€ì°¨ì  ìš”ì¸ì´ë¯€ë¡œ, ì¢…ì†ì ì¸ ê´€ê³„ê°€ ì—†ë”ë¼ë„ ê°€ê¹Œì´ ë°°ì¹˜í•˜ë©´ ì¢‹ë‹¤.

public class Assert {
    static public void assertTrue(String message, boolean condition) {
        if (!condition) 
            fail(message);
    }

    static public void assertTrue(boolean condition) { 
        assertTrue(null, condition);
    }

    static public void assertFalse(String message, boolean condition) { 
        assertTrue(message, !condition);
    }

    static public void assertFalse(boolean condition) { 
        assertFalse(null, condition);
    } 
...
```

### ì„¸ë¡œ ìˆœì„œ

ì¼ë°˜ì ìœ¼ë¡œ í•¨ìˆ˜ í˜¸ì¶œ ì¢…ì†ì„±ì€ ì•„ë˜ë°©í–¥ìœ¼ë¡œ ìœ ì§€í•˜ë¯€ë¡œ, í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” í•¨ìˆ˜ë³´ë‹¤ ë’¤ì— ë°°ì¹˜í•œë‹¤.  
ê·¸ëŸ¬ë©´ ì†ŒìŠ¤ì½”ë“œê°€ ìì—°ìŠ¤ëŸ½ê²Œ ê³ ì°¨ì› â†’ ì €ì°¨ì›ìœ¼ë¡œ ë‚´ë ¤ê°„ë‹¤.  
ê°€ì¥ ì¤‘ìš”í•œ ê°œë…ì„ ê°€ì¥ ë¨¼ì € í‘œí˜„í•˜ê³ , ì„¸ì„¸í•œ ì‚¬í•­ì€ ë§ˆì§€ë§‰ì— í‘œí˜„í•œë‹¤.  
ê·¸ë ‡ê²Œ í•˜ë©´ ì²« í•¨ìˆ˜ ëª‡ê°œë§Œ ì½ì–´ë„ ê°œë…ì„ íŒŒì•…í•˜ê¸° ì‰¬ì›Œì§ˆ ê²ƒì´ë‹¤.

## ê°€ë¡œ í˜•ì‹ ë§ì¶”ê¸°

ëŒ€ë‹¤ìˆ˜ì˜ í”„ë¡œê·¸ë˜ë¨¸ë“¤ì€ ëª…ë°±íˆ ì§§ì€ í–‰ì„ ì„ í˜¸í•˜ë¯€ë¡œ ì§§ì€ í–‰ì´ ë°”ëŒì§í•˜ë‹¤.  
Hollerithê°€ ì œì•ˆí•œ 80ì ì œí•œì€ ë‹¤ì†Œ ì¸ìœ„ì ì´ë¯€ë¡œ ì¡°ê¸ˆ ë” ëŠ˜ì—¬ë„ ì¢‹ë‹¤. í•˜ì§€ë§Œ 120ì ì´ìƒì„ ë„˜ì–´ê°„ë‹¤ë©´ ì£¼ì˜ ë¶€ì¡±ì´ë‹¤.  
í•„ì ê°œì¸ì ìœ¼ë¡œëŠ” 120ì ì •ë„ë¡œ ê¸¸ì´ë¥¼ ì œí•œí•œë‹¤.

### ê°€ë¡œ ê³µë°±ê³¼ ë°€ì§‘ë„

ê°€ë¡œë¡œëŠ” ê³µë°±ì„ ì‚¬ìš©í•´ ë°€ì ‘í•œ ê°œë…ê³¼ ëŠìŠ¨í•œ ê°œë…ì„ í‘œí˜„í•œë‹¤

```java
private void measureLine(String line) { 
    lineCount++;

    // í”íˆ ë³¼ ìˆ˜ ìˆëŠ” ì½”ë“œì¸ë°, í• ë‹¹ ì—°ì‚°ì ì¢Œìš°ë¡œ ê³µë°±ì„ ì£¼ì–´ ì™¼ìª½,ì˜¤ë¥¸ìª½ ìš”ì†Œê°€ í™•ì‹¤í•˜ê²Œ êµ¬ë¶„ëœë‹¤.
    int lineSize = line.length();
    totalChars += lineSize; 

    // ë°˜ë©´ í•¨ìˆ˜ì´ë¦„ê³¼ ê´„í˜¸ ì‚¬ì´ì—ëŠ” ê³µë°±ì„ ì—†ì•°ìœ¼ë¡œì¨ í•¨ìˆ˜ì™€ ì¸ìˆ˜ì˜ ë°€ì ‘í•¨ì„ ë³´ì—¬ì¤€ë‹¤
    // ê´„í˜¸ ì•ˆì˜ ì¸ìˆ˜ë¼ë¦¬ëŠ” ì‰¼í‘œ ë’¤ì˜ ê³µë°±ì„ í†µí•´ ì¸ìˆ˜ê°€ ë³„ê°œë¼ëŠ” ì‚¬ì‹¤ì„ ë³´ì—¬ì¤€ë‹¤.
    lineWidthHistogram.addLine(lineSize, lineCount);
    recordWidestLine(lineSize);
}
```

ì¶”ê°€ë¡œ ì—°ì‚°ìì˜ ìš°ì„ ìˆœìœ„ë¥¼ ê°•ì¡°í•˜ê¸° ìœ„í•´ì„œë„ ê³µë°±ì„ ì‚¬ìš©í•œë‹¤ `return b*b - 4*a*c;`  
í•˜ì§€ë§Œ Code Formatterë“±ì˜ ë„êµ¬ê°€ ì—°ì‚°ì ìš°ì„ ìˆœìœ„ê¹Œì§€ ê³ ë ¤í•˜ì§€ ëª»í•˜ë¯€ë¡œ ê³µë°±ì„ ì„ì˜ë¡œ ë„£ì–´ì£¼ë”ë¼ë„ ì‚¬ë¼ì§€ëŠ” ê²½ìš°ê°€ ëŒ€ë¶€ë¶„ì´ë‹¤.

### ê°€ë¡œ ì •ë ¬

```java
public class FitNesseExpediter implements ResponseSender {
    private        Socket          socket;
    private     InputStream       input;
    private     OutputStream       output;
    private     Reques          request;         
    private     Response       response;    
    private     FitNesseContex      context; 
    protected     long          requestParsingTimeLimit;
    private     long          requestProgress;
    private     long          requestParsingDeadline;
    private     boolean          hasError;

    ...
```

ë³´ê¸°ì—” ê¹”ë”í•´ ë³´ì¼ì§€ ëª¨ë¥´ë‚˜, ì½”ë“œê°€ ì—‰ëš±í•œ ë¶€ë¶„ì„ ê°•ì¡°í•´ ë³€ìˆ˜ ìœ í˜•ì„ ìì—°ìŠ¤ë ˆ ë¬´ì‹œí•˜ê³  ì´ë¦„ë¶€í„° ì½ê²Œ ëœë‹¤.  
ê²Œë‹¤ê°€ Code Formatter ëŒ€ë¶€ë¶„ë“¤ì€ ì´ë ‡ê²Œ í•´ë†”ë´¤ì ë¬´ì‹œí•˜ê³  ì›ë˜ëŒ€ë¡œ ëŒë ¤ë†“ëŠ”ë‹¤.
ê·¸ëŸ¬ë¯€ë¡œ ì„ ì–¸ë¬¸ê³¼ í• ë‹¹ë¬¸ì„ ë³„ë„ë¡œ ì •ë ¬í•  í•„ìš”ê°€ ì—†ë‹¤.  
ì •ë ¬ì´ í•„ìš”í•  ì •ë„ë¡œ ëª©ë¡ì´ ê¸¸ë‹¤ë©´ ëª©ë¡ì˜ ê¸¸ì´ê°€ ë¬¸ì œì´ì§€ ì •ë ¬ì´ ë¶€ì¡±í•´ì„œê°€ ì•„ë‹ˆë‹¤. 
ì„ ì–¸ë¶€ê°€ ê¸¸ë‹¤ëŠ” ê²ƒì€ í´ë˜ìŠ¤ë¥¼ ìª¼ê°œì•¼ í•œë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.

### ë“¤ì—¬ì“°ê¸°
ë“¤ì—¬ì“°ê¸°ë¥¼ ì˜ í•´ë†“ìœ¼ë©´ êµ¬ì¡°ê°€ í•œ ëˆˆì— ë“¤ì–´ì˜¨ë‹¤.

#### ë“¤ì—¬ì“°ê¸° ë¬´ì‹œí•˜ê¸°

ê°„ë‹¨í•œ ifë¬¸, whileë¬¸, ì§§ì€ í•¨ìˆ˜ì—ì„œ ë“¤ì—¬ì“°ê¸°ë¥¼ ë¬´ì‹œí•˜ê³ í”ˆ ìœ í˜¹ì´ ìƒê¸´ë‹¤.  
í•˜ì§€ë§Œ ë“¤ì—¬ì“°ê¸°ë¡œ ì œëŒ€ë¡œ ë²”ìœ„ë¥¼ í‘œí˜„í•œ ì½”ë“œê°€ ê°€ë…ì„±ì´ ë” ë†’ë‹¤. ìœ í˜¹ì„ ë¿Œë¦¬ì¹˜ì.

```java
// ì´ë ‡ê²Œ í•œí–‰ì— ë‹¤ ë„£ì„ ìˆ˜ ìˆë‹¤ê³  í•œ í–‰ì— ë²”ìœ„ë¥¼ ë­‰ëš±ê·¸ë¦° ì½”ë“œëŠ” í”¼í•œë‹¤.

public class CommentWidget extends TextWidget {
    public static final String REGEXP = "^#[^\r\n]*(?:(?:\r\n)|\n|\r)?";

    public CommentWidget(ParentWidget parent, String text){super(parent, text);}
    public String render() throws Exception {return ""; } 
}
```

```java
// í•œì¤„ì´ë¼ë„ ì •ì„±ìŠ¤ëŸ½ê²Œ ë“¤ì—¬ì“°ê¸°ë¡œ ê°ì‹¸ì£¼ì. ê°€ë…ì„±ì„ ìœ„í•´ì„œë‹¤.

public class CommentWidget extends TextWidget {
    public static final String REGEXP = "^#[^\r\n]*(?:(?:\r\n)|\n|\r)?";

    public CommentWidget(ParentWidget parent, String text){
        super(parent, text);
    }

    public String render() throws Exception {
        return ""; 
    } 
}
```

### ê°€ì§œ ë²”ìœ„

ë¹ˆ whileë¬¸ì´ë‚˜ forë¬¸ì„ ì ‘í•  ë•Œê°€ ìˆë‹¤. ê°€ëŠ¥í•œ í”¼í•´ì•¼ ë˜ì§€ë§Œ, í”¼í•˜ì§€ ëª» í•  ê²½ìš°ì—”  
ë¹ˆ ë¸”ë¡ì„ ì˜¬ë°”ë¡œ ë“¤ì—¬ì“°ê³  ê´„í˜¸ë¡œ ê°ì‹¸ë¼. ì„¸ë¯¸í´ë¡ ì€ ìƒˆ í–‰ì—ë‹¤ ì œëŒ€ë¡œ ë“¤ì—¬ì¨ì„œ ë„£ì–´ì¤€ë‹¤.

## íŒ€ ê·œì¹™

íŒ€ì— ì†í•´ìˆë‹¤ë©´, ê°€ì¥ ìš°ì„ ì‹œ ë˜ì–´ì•¼ í•˜ê³  ì„ í˜¸í•´ì•¼ í•  ê·œì¹™ì€ íŒ€ ê·œì¹™ì´ë‹¤.  
ì½”ë”© ìŠ¤íƒ€ì¼ì„ ì˜ë…¼í•˜ì—¬(ê´„í˜¸ë¥¼ ì–´ë””ì— ë„£ì„ì§€, ë„¤ì´ë°ì€ ì–´ë–»ê²Œ í• ì§€ ë“±) IDE Formatterë¡œ ì§€ì •í•˜ì—¬ êµ¬í˜„í•˜ëŠ” ê²ƒì´ ì˜³ì€ ë°©ì‹ì´ë‹¤.  
**ì¢‹ì€ ì†Œí”„íŠ¸ì›¨ì–´ ì‹œìŠ¤í…œì€ ì½ê¸° ì‰¬ìš´ ë¬¸ì„œë¡œ ì´ë¤„ì§€ê³ , ì½ê¸° ì‰¬ìš´ ë¬¸ì„œëŠ” ìŠ¤íƒ€ì¼ì´ ì¼ê´€ì ì´ê³  ë§¤ë„ëŸ¬ì›Œì•¼ í•œë‹¤.**

## ë°¥ ì•„ì €ì”¨ì˜ í˜•ì‹ ê·œì¹™
ì €ìê°€ ì‚¬ìš©í•˜ëŠ” í˜•ì‹ ê·œì¹™ì€ ì•„ë˜ ì½”ë“œì— ì˜ ë“œëŸ¬ë‚œë‹¤.
```java
public class CodeAnalyzer implements JavaFileAnalysis { 
    private int lineCount;
    private int maxLineWidth;
    private int widestLineNumber;
    private LineWidthHistogram lineWidthHistogram; 
    private int totalChars;

    public CodeAnalyzer() {
        lineWidthHistogram = new LineWidthHistogram();
    }

    public static List<File> findJavaFiles(File parentDirectory) { 
        List<File> files = new ArrayList<File>(); 
        findJavaFiles(parentDirectory, files);
        return files;
    }

    private static void findJavaFiles(File parentDirectory, List<File> files) {
        for (File file : parentDirectory.listFiles()) {
            if (file.getName().endsWith(".java")) 
                files.add(file);
            else if (file.isDirectory()) 
                findJavaFiles(file, files);
        } 
    }

    public void analyzeFile(File javaFile) throws Exception { 
        BufferedReader br = new BufferedReader(new FileReader(javaFile)); 
        String line;
        while ((line = br.readLine()) != null)
            measureLine(line); 
    }

    private void measureLine(String line) { 
        lineCount++;
        int lineSize = line.length();
        totalChars += lineSize; 
        lineWidthHistogram.addLine(lineSize, lineCount);
        recordWidestLine(lineSize);
    }

    private void recordWidestLine(int lineSize) { 
        if (lineSize > maxLineWidth) {
            maxLineWidth = lineSize;
            widestLineNumber = lineCount; 
        }
    }

    public int getLineCount() { 
        return lineCount;
    }

    public int getMaxLineWidth() { 
        return maxLineWidth;
    }

    public int getWidestLineNumber() { 
        return widestLineNumber;
    }

    public LineWidthHistogram getLineWidthHistogram() {
        return lineWidthHistogram;
    }

    public double getMeanLineWidth() { 
        return (double)totalChars/lineCount;
    }

    public int getMedianLineWidth() {
        Integer[] sortedWidths = getSortedWidths(); 
        int cumulativeLineCount = 0;
        for (int width : sortedWidths) {
            cumulativeLineCount += lineCountForWidth(width); 
            if (cumulativeLineCount > lineCount/2)
                return width;
        }
        throw new Error("Cannot get here"); 
    }

    private int lineCountForWidth(int width) {
        return lineWidthHistogram.getLinesforWidth(width).size();
    }

    private Integer[] getSortedWidths() {
        Set<Integer> widths = lineWidthHistogram.getWidths(); 
        Integer[] sortedWidths = (widths.toArray(new Integer[0])); 
        Arrays.sort(sortedWidths);
        return sortedWidths;
    } 
}
```

## Findings
- ì ì ˆí•œ ê¸¸ì´ ìœ ì§€í•˜ëŠ”ê²Œ ì¢‹ë‹¤.
  <br>200ë¼ì¸ì—ì„œ 500ë¼ì¸ ì´í•˜ë¡œ ìœ ì§€í•˜ëŠ”ê²Œ ì¢‹ë‹¤.
  - ì½”ë“œ ê¸¸ì´ë¥¼ 200ì¤„ ì •ë„ë¡œ ì œí•œí•˜ëŠ” ê²ƒì€ ë°˜ë“œì‹œ ì§€í‚¬ ì—„ê²©í•œ ê·œì¹™ì€ ì•„ë‹ˆì§€ë§Œ, ì¼ë°˜ì ìœ¼ë¡œ í° íŒŒì¼ ë³´ë‹¤ëŠ” ì‘ì€ íŒŒì¼ì´ ì´í•´í•˜ê¸° ì‰½ë‹¤.
    - í˜„ì—…ì—ì„œëŠ” ëŒ€ë¶€ë¶„ì˜ ì½”ë“œë“¤ë„ 200ë¼ì¸ ì •ë„ë¥¼ ìœ ì§€í•œë‹¤ê³  í•œë‹¤.
  - ì½”ë“œ ê¸¸ì´ê°€ 200ë¼ì¸ì„ ë„˜ì–´ê°„ë‹¤ë©´, í´ë˜ìŠ¤ê°€ ì—¬ëŸ¬ ê°œì˜ ì¼ì„ í•˜ê³  ìˆì„ ìˆ˜ ìˆë‹¤.
    - SRP(Single Responbility Principle - ë‹¨ì¼ ì±…ì„ ì›ì¹™)ìœ„ë°° í–ˆì„ ê°€ëŠ¥ì„±ì´ í¬ë‹¤.
- ë°€ì ‘í•œ ê°œë…ì€ ì„œë¡œ ê°€ê¹Œì´ ë‘”ë‹¤. 
  - í–‰ ë¬¶ìŒì€ ì™„ê²°ëœ ìƒê° í•˜ë‚˜ë¥¼ í‘œí˜„í•˜ê¸° ë•Œë¬¸ì— ê°œë…ì€ ë¹ˆ í–‰ìœ¼ë¡œ ë¶„ë¦¬í•œë‹¤.
  - ë³€ìˆ˜ëŠ” ì‚¬ìš©ë˜ëŠ” ìœ„ì¹˜ì—ì„œ ìµœëŒ€í•œ ê°€ê¹Œì´ ì„ ì–¸í•œë‹¤.

## Feelings
- ì €ìê°€ ë§í•˜ëŠ” í˜•ì‹ ë§ì¶”ê¸°ë€ ê°€ë…ì„± ë†’ì€ ì½”ë“œë¥¼ ì‘ì„±í•˜ê¸° ìœ„í•œ ì»¨ë²¤ì…˜ ë§ì¶”ê¸°ë¡œ ëŠê»´ì¡Œë‹¤.
- ì ì ˆí•œ í–‰ì˜ ê¸¸ì´ë¥¼ ë§ì¶”ê³ , ë³€ìˆ˜ë“¤ë¼ë¦¬ ëª¨ì•„ë‘ê³ , ë¹ˆ í–‰ìœ¼ë¡œ ê°œë…ì„ ë¶„ë¦¬ í•˜ëŠ” ë“±ì˜ ë°©ë²•ì„ ë³´ë©´ì„œ ì½”ë“œë¥¼ ê°€ë…ì„± ë†’ê²Œ ë§Œë“œëŠ” ë°©ë²•ì„ ì•Œê²Œ ë˜ì—ˆë‹¤.

## Issue
- ë‘ ê°œë…ì´ ì„œë¡œ ë‹¤ë¥¸ íŒŒì¼ì— ì†í•œë‹¤ë©´ ê·œì¹™ì´ í†µí•˜ì§€ ì•Šì§€ë§Œ,  
  íƒ€ë‹¹í•œ ê·¼ê±°ê°€ ì—†ë‹¤ë©´ ì„œë¡œ ë°€ì ‘í•œ ê°œë…ì€ í•œ íŒŒì¼ì— ì†í•´ì•¼ ë§ˆë•…í•˜ë‹¤. 
  <br>(protected ë³€ìˆ˜ë¥¼ í”¼í•´ì•¼ í•˜ëŠ” ì´ìœ ë‹¤.)
- í•˜ì§€ë§Œ Code Formatterë“±ì˜ ë„êµ¬ê°€ ì—°ì‚°ì ìš°ì„ ìˆœìœ„ê¹Œì§€ ê³ ë ¤í•˜ì§€ ëª»í•˜ë¯€ë¡œ ê³µë°±ì„ ì„ì˜ë¡œ ë„£ì–´ì£¼ë”ë¼ë„ ì‚¬ë¼ì§€ëŠ” ê²½ìš°ê°€ ëŒ€ë¶€ë¶„ì´ë‹¤.
  <br>ğŸ¤” ê·¸ë ‡ë‹¤ë©´ ê´„í˜¸ë¡œ ë¬¶ì–´ì£¼ëŠ” ê²ƒì´ ë” ë°”ëŒì§í•˜ì§€ ì•Šì„ê¹Œ?
